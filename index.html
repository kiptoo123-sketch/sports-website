<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Betika-Style Predictor</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  button { padding:10px 20px; margin:5px; cursor:pointer; }
  table { border-collapse: collapse; width: 100%; margin-top: 20px; }
  th, td { border:1px solid #ccc; padding:10px; text-align:center; }
</style>
</head>
<body>

<h1>Betika-Style Predictor</h1>

<!-- Login -->
<button id="login-btn">Login with Google</button>
<button id="logout-btn" style="display:none;">Logout</button>
<div id="user-info" style="margin-top:10px;"></div>

<!-- Matches -->
<h2>Matches</h2>
<table id="matches-table">
  <tr><th>Match</th><th>Prediction</th><th>Action</th></tr>
</table>

<!-- Leaderboard -->
<h2>Leaderboard</h2>
<table id="leaderboard-table">
  <tr><th>User</th><th>Points</th></tr>
</table>

<!-- Firebase Scripts -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<script>
  // Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyDyqTVq8hDjWatJBG4uVgTGaPA6TZ5yA_s",
    authDomain: "betika-style-predictor.firebaseapp.com",
    projectId: "betika-style-predictor",
    storageBucket: "betika-style-predictor.firebasestorage.app",
    messagingSenderId: "1081822274358",
    appId: "1:1081822274358:web:cfd0d79f9d1c6e5fd68997"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  var auth = firebase.auth();
  var db = firebase.firestore();
  var provider = new firebase.auth.GoogleAuthProvider();

  var loginBtn = document.getElementById("login-btn");
  var logoutBtn = document.getElementById("logout-btn");
  var userInfo = document.getElementById("user-info");
  var matchesTable = document.getElementById("matches-table");
  var leaderboardTable = document.getElementById("leaderboard-table");

  // Login/Logout
  loginBtn.onclick = function() { auth.signInWithPopup(provider).catch(e => alert(e.message)); };
  logoutBtn.onclick = function() { auth.signOut(); };

  // Detect login state
  auth.onAuthStateChanged(function(user){
    if(user){
      loginBtn.style.display = "none";
      logoutBtn.style.display = "inline-block";
      userInfo.innerHTML = "Logged in as <b>"+user.displayName+"</b>";

      // Load placeholder matches
      loadMatches();

      // Load placeholder leaderboard
      loadLeaderboard();
    } else {
      loginBtn.style.display = "inline-block";
      logoutBtn.style.display = "none";
      userInfo.innerHTML = "";
      matchesTable.innerHTML = "<tr><th>Match</th><th>Prediction</th><th>Action</th></tr>";
      leaderboardTable.innerHTML = "<tr><th>User</th><th>Points</th></tr>";
    }
  });

  // Placeholder matches
  function loadMatches(){
    const sampleMatches = [
      "Liverpool vs Man City",
      "Chelsea vs Arsenal",
      "Barcelona vs Real Madrid"
    ];
    sampleMatches.forEach(match => {
      const row = matchesTable.insertRow();
      row.insertCell(0).innerText = match;
      row.insertCell(1).innerHTML = `
        <select>
          <option value="1">Home</option>
          <option value="X">Draw</option>
          <option value="2">Away</option>
        </select>`;
      row.insertCell(2).innerHTML = `<button onclick="alert('Prediction submitted!')">Submit</button>`;
    });
  }

  // Placeholder leaderboard
  function loadLeaderboard(){
    const sampleLeaderboard = [
      { user: "Alice", points: 10 },
      { user: "Bob", points: 8 },
      { user: "Kelvin", points: 5 }
    ];
    sampleLeaderboard.forEach(entry => {
      const row = leaderboardTable.insertRow();
      row.insertCell(0).innerText = entry.user;
      row.insertCell(1).innerText = entry.points;
    });
  }
</script>

</body>
</html> 
