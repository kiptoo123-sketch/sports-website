<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ğŸƒ Runner Game - Medium Speed + Sound</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- AdSense verification -->
  <meta name="google-adsense-account" content="ca-pub-5580404798212871">

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #87ceeb;
      overflow: hidden;
      text-align: center;
    }

    #game {
      position: relative;
      width: 100%;
      height: 300px;
      background: #4caf50;
      overflow: hidden;
    }

    #runner {
      position: absolute;
      bottom: 40px;
      left: 50px;
      font-size: 40px;
    }

    .obstacle {
      position: absolute;
      bottom: 40px;
      right: -40px;
      font-size: 35px;
      animation: move 1.8s linear infinite; /* medium speed */
    }

    .coin {
      position: absolute;
      bottom: 100px;
      right: -30px;
      font-size: 30px;
      animation: move 2.3s linear infinite; /* medium speed */
    }

    @keyframes move {
      from { right: -40px; }
      to { right: 100%; }
    }

    .jump {
      animation: jump 0.55s ease-out; /* smooth jump */
    }

    @keyframes jump {
      0% { bottom: 40px; }
      50% { bottom: 140px; }
      100% { bottom: 40px; }
    }

    #info {
      background: #fff;
      padding: 10px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      margin-top: 5px;
    }
  </style>
</head>

<body>

<h2>ğŸƒ Runner Game</h2>

<!-- Sound button: required on mobile -->
<button id="soundBtn">ğŸ”Š Enable Sound</button>

<div id="info">
  Score: <span id="score">0</span> |
  Coins: <span id="coins">0</span>
</div>

<div id="game">
  <div id="runner">ğŸƒâ€â™‚ï¸</div>
</div>

<button onclick="restartGame()">ğŸ”„ Restart</button>
<p>Tap screen or press SPACE to jump</p>

<!-- Sounds -->
<audio id="jumpSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_2a45d0c5f6.mp3"></audio>
<audio id="coinSound" src="https://cdn.pixabay.com/audio/2022/03/10/audio_6a5d3fbc5c.mp3"></audio>

<script>
const runner = document.getElementById("runner");
const game = document.getElementById("game");
const scoreEl = document.getElementById("score");
const coinsEl = document.getElementById("coins");
const soundBtn = document.getElementById("soundBtn");

const jumpSound = document.getElementById("jumpSound");
const coinSound = document.getElementById("coinSound");

let score = 0;
let coins = 0;
let isAlive = true;
let soundEnabled = false;

// ğŸ”Š Enable sound function
soundBtn.addEventListener("click", () => {
  soundEnabled = true;

  // Unlock sounds for mobile
  jumpSound.play().then(() => { jumpSound.pause(); jumpSound.currentTime = 0; }).catch(()=>{});
  coinSound.play().then(() => { coinSound.pause(); coinSound.currentTime = 0; }).catch(()=>{});

  soundBtn.textContent = "ğŸ”Š Sound ON";
  soundBtn.disabled = true;
});

// Jump function
function jump() {
  if (!isAlive) return;
  if (!runner.classList.contains("jump")) {
    runner.classList.add("jump");
    if(soundEnabled) jumpSound.play();
    setTimeout(() => runner.classList.remove("jump"), 550);
  }
}

document.addEventListener("keydown", e => { if(e.code === "Space") jump(); });
document.addEventListener("touchstart", jump);

// Create obstacles
function createObstacle() {
  if(!isAlive) return;
  const obs = document.createElement("div");
  obs.className = "obstacle";
  obs.textContent = "ğŸ§±";
  game.appendChild(obs);

  const check = setInterval(() => {
    const r = runner.getBoundingClientRect();
    const o = obs.getBoundingClientRect();
    if(o.left < r.right && o.right > r.left && o.bottom > r.top){
      isAlive = false;
      alert("Game Over!");
      clearInterval(check);
    }
  },50);

  setTimeout(() => obs.remove(), 1800);
}

// Create coins
function createCoin() {
  if(!isAlive) return;
  const coin = document.createElement("div");
  coin.className = "coin";
  coin.textContent = "ğŸª™";
  game.appendChild(coin);

  const check = setInterval(() => {
    const r = runner.getBoundingClientRect();
    const c = coin.getBoundingClientRect();
    if(c.left < r.right && c.right > r.left && c.bottom > r.top){
      coins++;
      coinsEl.textContent = coins;
      if(soundEnabled) coinSound.play();
      coin.remove();
      clearInterval(check);
    }
  },50);

  setTimeout(() => coin.remove(), 2300);
}

// Score increment
setInterval(() => { if(isAlive){ score++; scoreEl.textContent = score; } }, 400);

// Medium speed gameplay
setInterval(createObstacle, 1600);
setInterval(createCoin, 2500);

// Restart function
function restartGame() {
  location.reload();
}
</script>

</body>
</html>
